# Controladores

Convencion de nombres:

- Uso de CamelCase
- Nombre descriptivo seguido de la palabra **Controller**

```bash
php artisan make:controller UserController
```

---

## Rutas para controladores

```php
Route::get('/', [UserController::class, 'index'])name->('user-index');
```

- `UserController::class` -> controlador que vamos a utilizar.

- `index` -> funcion que vamos a utilizar.

- `user-index` -> nombre de la ruta

---

## Eloquent

Eloquent es el ORM (Object-Relational Mapping) incorporado en el framework Laravel. Proporciona una manera elegante y sencilla de interactuar con la base de datos utilizando objetos y métodos de PHP, permitiendo a los desarrolladores realizar operaciones de base de datos de manera mucho más intuitiva y orientada a objetos.

características importantes y conceptos clave de Eloquent:

**Modelos**

Los modelos en Eloquent representan tablas de la base de datos. Cada modelo corresponde a una tabla y sus instancias representan filas de esa tabla. Los modelos de Eloquent extienden la clase `Illuminate\Database\Eloquent\Model`.

Por ejemplo, si tienes una tabla llamada users, puedes crear un modelo User para interactuar con esa tabla:

```php
use Illuminate\Database\Eloquent\Model;

class User extends Model
{
    // ...
}
```

**Relaciones**

Eloquent proporciona métodos para definir relaciones entre modelos. Las relaciones comunes son hasOne, hasMany, belongsTo, belongsToMany, etc. Estos métodos permiten definir la relación entre dos modelos, facilitando el acceso a datos relacionados.
Por ejemplo, si tienes una relación entre un usuario y sus publicaciones, podrías definirlo en el modelo User:

```php
class User extends Model
{
    public function posts()
    {
        return $this->hasMany(Post::class);
    }
}
```

**Consultas**
Eloquent ofrece métodos encadenables para realizar consultas a la base de datos de manera legible y simple. Los métodos como where(), orderBy(), groupBy(), entre otros, permiten construir consultas SQL de manera fluida.

```php
$users = User::where('age', '>', 18)
             ->orderBy('name')
             ->get();

```

**Acceso a atributos y relaciones**
Eloquent permite acceder a los atributos de una fila de base de datos como propiedades del modelo y proporciona métodos para acceder a relaciones de manera sencilla.

```php
$user = User::find(1);
echo $user->name; // Acceder al atributo "name"
echo $user->posts; // Acceder a la relación "posts" del usuario
```

**Ciclo de vida del modelo**

Eloquent ofrece eventos y ganchos que se disparan durante el ciclo de vida de un modelo, como creating, created, updating, updated, deleting, deleted, etc. Estos eventos permiten realizar acciones antes o después de ciertos eventos del modelo.

---

## Directrices Selectivas - Directrices Iterativas

son estructuras que permiten controlar el flujo de tu código en las vistas de manera más eficiente y dinámica. Estas directivas se utilizan para realizar acciones condicionales o para iterar sobre conjuntos de datos.

**Selectivas**

- @if: La directiva @if permite ejecutar un bloque de código si se cumple una condición especificada:

```php
@if($condition)
    <!-- HTML u otras directivas Blade aquí -->
@elseif($anotherCondition)
    <!-- Otro bloque si se cumple la condición anterior -->
@else
    <!-- Bloque si no se cumple ninguna de las condiciones anteriores -->
@endif
```

---

- @unless

```php
@unless($condition)
    <!-- HTML u otras directivas Blade aquí -->
@endunless
```

---

**Iterativas**

- @foreach: La directiva @foreach itera sobre un conjunto de datos como arrays o colecciones, permitiendo ejecutar un bloque de código para cada elemento:

```php
@foreach($items as $item)
    <!-- HTML u otras directivas Blade aquí, puede acceder a $item -->
@endforeach
```

---

- @for: La directiva @for realiza un bucle for:

```php
@for($i = 0; $i < count($items); $i++)
    <!-- HTML u otras directivas Blade aquí, puede acceder a $items[$i] -->
@endfor
```

---

- @while: La directiva @while ejecuta un bloque de código mientras se cumpla una condición

```php
@while($condition)
    <!-- HTML u otras directivas Blade aquí -->
@endwhile
```

---

## Formas de crear un registro

```php
 public function create()
    {
        $users = new User();
        $users->name = "Jhaminton Mendez";
        $users->email = "thejjmendez@gmail.com";
        $users->Hash::make('password');
        $users->address = "Malambo - Atlantico";
        $users->zip_code = 23522;
        $users->save();
    }
```

Otra forma:

```php
User::create([
"name" => "Alicia Mendez",
"email" => "aliciamendez@gmail.com",
"age" => 63,
"password" => Hash::make('38387337'),
"address" => "Malambo - Atlantico",
"zip_code" => 7373

        ]);
```
